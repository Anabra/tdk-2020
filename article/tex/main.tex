\documentclass[a4paper]{report}

\usepackage{style}
\usepackage{subfiles}

\usepackage{syntax}

%TODO: sec labels to chap labels
\begin{document}
	
	\title{A modern look at GRIN,\\ an optimizing functional language back end}
	
	%\institute
	%{
	%	\email{\{csaba.hruska, andor.penzes\}@gmail.com}
	%	\and
	%	Eötvös Loránd University, Budapest, Hungary\\
	%	\email{peter.d.podlovics@gmail.com}\\
	%}

	\date{\today}
	\author
	{ 
		Péter Dávid Podlovics
	}
	
	\subfile{titlepage}
	\subfile{abstract}
	\tableofcontents
	
	\chapter*{Acknowledgements}
	\subfile{acknowledgements}
	
	\chapter{Introduction} \label{chap:intro}
	\subfile{introduction}
	
	\chapter{Graph Reduction Intermediate Notation} \label{chap:grin}
	\subfile{grin}
	
	\chapter{Syntactical extensions} \label{chap:extended-syntax}
	\subfile{extended-syntax}
	
	\chapter{Datalog for GRIN} \label{chap:datalog-grin}
	\subfile{datalog-grin}
	
	\chapter{Dead Code Elimination} \label{chap:dce}
	\subfile{dce}
	
	\chapter{Idris Front End} \label{chap:idris-front-end}
	\subfile{idris-front-end}
	
	\chapter{LLVM Back End} \label{chap:llvm}
	\subfile{llvm}
	
	\chapter{Results} \label{chap:results}
	\subfile{results}
	
	\chapter{Related Work} \label{chap:related-work}
	\subfile{related-work}
	
	\chapter{Future Work} \label{chap:future-work}
	\subfile{future-work}
	
	\chapter{Conclusions} \label{chap:conclusions}
	\subfile{conclusions}
	
	\titleformat{\chapter}[display]{\vspace*{-20pt}\bfseries\huge}{Appendix}{1em}{}
	\titlespacing*{\chapter}{0pt}{0pt}{0pt}
	\appendix
	\addtocontents{toc}{\protect\setcounter{tocdepth}{0}}
	\chapter{Figures}
	\subfile{appendices}
		
	\titleformat{\chapter}[display]
	{\normalfont\huge\bfseries}{\chaptertitlename\ \thechapter}{20pt}{\Huge}
	\titlespacing*{\chapter}{0pt}{0pt}{30pt}
	\subfile{bibliography}

	
\end{document}