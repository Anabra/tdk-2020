\documentclass[a4paper]{report}

\usepackage{style}
\usepackage{subfiles}

\usepackage{syntax}

%TODO: sec labels to chap labels
\begin{document}
	
	\title{A modern look at GRIN,\\ an optimizing functional language back end\thanks{ The project has been supported by the European Union, co-financed by the European Social Fund (EFOP-3.6.3-VEKOP-16-2017-00002)}}
	
	%\institute
	%{
	%	\email{\{csaba.hruska, andor.penzes\}@gmail.com}
	%	\and
	%	Eötvös Loránd University, Budapest, Hungary\\
	%	\email{peter.d.podlovics@gmail.com}\\
	%}

	\date{\today}
	\author
	{ 
		Péter Dávid Podlovics
	}
	
	\maketitle
	\subfile{abstract}
	\tableofcontents
	
	\chapter{Introduction} \label{chap:intro}
	\subfile{introduction}
	
	\chapter{Graph Reduction Intermediate Notation} \label{chap:grin}
	\subfile{grin}
	
	\chapter{Syntactical extensions} \label{chap:extended-syntax}
	\subfile{extended-syntax}
	
	\chapter{Datalog for GRIN} \label{chap:datalog-grin}
	\subfile{datalog-grin}
	
	\chapter{Dead Code Elimination} \label{chap:dce}
	\subfile{dce}
	
	\chapter{Idris Front End} \label{chap:idris-front-end}
	\subfile{idris-front-end}
	
	\chapter{LLVM Back End} \label{chap:llvm}
	\subfile{llvm}
	
	\chapter{Results} \label{chap:results}
	\subfile{results}
	
	\chapter{Related Work} \label{chap:related-work}
	\subfile{related-work}
	
	\chapter{Future Work} \label{chap:future-work}
	\subfile{future-work}
	
	\chapter{Conclusions} \label{chap:conclusions}
	\subfile{conclusions}
	
	% TODO: remove blank page
	\appendix
	\addtocontents{toc}{\protect\setcounter{tocdepth}{0}}
	\chapter{Figures}
	\subfile{appendices}
		
	\subfile{bibliography}

	
\end{document}